
<!doctype html>
<html>
<head>
	<title>I've beed iframed</title>
  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TLKSDT9');</script>
<!-- test: GTM-5LX3TJL -->
<!-- smartfit GTM-TLKSDT9 -->
<!-- End Google Tag Manager -->
	
	<style>
		button {
			padding-bottom: 20px;
			padding-right: 20px;
		}
	</style>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TLKSDT9"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
I've beed iframed
<br/>
<button id="widget_loaded">widget_loaded</button>
<br/>
<button id="widget_opened">widget_opened</button>
<br/>
<button id="height_set">height_set</button>
<br/>
<button id="result_shown">result_shown</button>
	
<script>
var customEvent1Handler = function customEvent1Handler(){
 window.dataLayer = window.dataLayer || [];
 window.dataLayer.push({
 'event': 'widget_initialization',
 'event_action': 'widget_loaded'
 });
}
var customEvent1 = document.getElementById('widget_loaded');
customEvent1.addEventListener('click', customEvent1Handler);

document.getElementById('widget_opened').addEventListener('click', function widget_opened(){
window.dataLayer = window.dataLayer || [];
window.dataLayer.push({
 'event': 'user_action',
 'event_action': 'widget_opened'
 });
});
	
document.getElementById('height_set').addEventListener('click', function height_set(){
window.dataLayer = window.dataLayer || [];
window.dataLayer.push({
 'event': 'user_action',
 'event_action': 'height_set'
 });
});
document.getElementById('result_shown').addEventListener('click', function result_shown(){
window.dataLayer = window.dataLayer || [];
window.dataLayer.push({
 'event': 'user_action',
 'event_action': 'result_shown'
 });
});
	
</script>
</body>
</html>


